---
title: "R Notebook"
output: html_notebook
---


#1. An .R file that cleans some data on meteorites.
#2. A .Rmd file that takes your cleaned data and performs some analysis.
#3 write a short `README.md` that describes the structure of your project.

#The data you want to clean is in the file called `meteorite_landings.csv`. 

## The .R file



#1. Read the data into R
```{r}
library(tidyverse)
```

```{r}
meteorite_landings <- read_csv("weekend_homework/meteorite_landings.csv")
meteorite_landings
```
```{r}
library(janitor)
```


#2. Change the names of the variables to follow our naming standards.
```{r}
clean_meteorite_landings <- clean_names(meteorite_landings)
clean_meteorite_landings
```

#3. Split in column `GeoLocation` into latitude and longitude, the new latitude and longitude columns should be numeric.
```{r}
cleaned_meteorite_landings <-clean_meteorite_landings %>% 
  separate(geo_location, c("latitude", "longitude"), 
           sep = ",",convert = TRUE) %>% 
  separate(latitude, c("remove", "latitude"), sep = "\\(")  %>% 
  separate(longitude, c("longitude", "remove_2"), sep = "\\)") %>% 
 
   mutate(latitude, latitude = as.numeric(latitude)) %>% 
  mutate(longitude, longitude = as.numeric(longitude)) %>% 
   
     select(-"remove", -"remove_2") 
cleaned_meteorite_landings

  
```

 

```{r}

```

4. Replace any missing values in latitude and longitude with zeros.
5. Remove meteorites less than 1000g in weight from the data.
6. Order the data by the year of discovery.

```{r}
by_year_cleaned_meteorite_landings <-cleaned_meteorite_landings %>%  
  
    mutate(latitude = coalesce(latitude, latitude, na.rm = TRUE)) %>% 
    mutate(longitude = coalesce(longitude, longitude, na.rm = TRUE)) %>% 

    filter(mass_g > 1000) %>% 
    arrange(year)

by_year_cleaned_meteorite_landings

```



We would also like you to include assertive programming to make sure that:

1. The data has the variable names we expect ("id", "name", "mass (g)", "fall", "year", "GeoLocation").

```{r}
library(assertr)

  names(by_year_cleaned_meteorite_landings)
```

2. Latitude and longitude are valid values. (Latitude between -90 and 90, longitude between -180 and 180).

```{r}
latitude_filter <- filter(by_year_cleaned_meteorite_landings, 
          between(latitude,-90, 90))
latitude_filter
```


```{r}
longitude_latitude_filter <- filter(latitude_filter, 
          between(longitude,-180, 180))  
longitude_latitude_filter
         
```
```{r}
write_csv(longitude_latitude_filter, "tidy_meteorite_landings.csv")
```

```{r}
tidy_meteorite_landings <- read_csv("tidy_meteorite_landings.csv")
tidy_meteorite_landings
```


#2. Find the names and years found for the 10 largest meteorites in the data.

```{r}
top_ten_by_mass <- tidy_meteorite_landings %>% 
  arrange(desc(mass_g)) %>% 
  head(n=10)
top_ten_by_mass
```

#3. Find the average mass of meteorites that were recorded falling, vs. those which were just found.
#filter falling versus found
then find mean of each

```{r}

              
```

mean(mass)
#4. Find the number of meteorites in each year, for every year since 2000.
group number of meteorites per year since 2000 and summarise

## The project structure

1. Make sure your use an RStudio Project.
2. Make a repo on GitHub and commit your code to this repo regularly.
3. It is up to you how to store your code and data. Make sure it is clear for others using the project.

## The README.md file

Make a plain text file called `README.md`. In this file we just want you to describe the structure of your project, and explain what each piece of code you have written does.